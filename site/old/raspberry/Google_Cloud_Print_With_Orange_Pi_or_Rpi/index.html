
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="canonical" href="https://readthedocs.vinczejanos.info/old/raspberry/Google_Cloud_Print_With_Orange_Pi_or_Rpi/">
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.3.4">
    
    
      
        <title>Google Cloud Print With Orange PI (or RPI) - Vincze Janos Blog</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.db9e7362.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../css/width.css">
    
      <link rel="stylesheet" href="../../../css/prism.css">
    
    
      

  


  

  


  <script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-3LZJ7L57GQ"),document.addEventListener("DOMContentLoaded",function(){"undefined"!=typeof location$&&location$.subscribe(function(t){gtag("config","G-3LZJ7L57GQ",{page_path:t.pathname})})})</script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-3LZJ7L57GQ"></script>


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
      <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#google-cloud-print-with-orange-pi-or-rpi" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Vincze Janos Blog" class="md-header__button md-logo" aria-label="Vincze Janos Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Vincze Janos Blog
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Google Cloud Print With Orange PI (or RPI)
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="light-green" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/jvincze84/jvincze84.github.io/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Vincze Janos Blog" class="md-nav__button md-logo" aria-label="Vincze Janos Blog" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54z"/></svg>

    </a>
    Vincze Janos Blog
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/jvincze84/jvincze84.github.io/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../Install_And_Configure_Wireguard_VPN/" class="md-nav__link">
        Install And Configure Wireguard VPN
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../Get_Started_With_Portainer/" class="md-nav__link">
        Get Started With Portainer
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../Install_Single_Node_Kubernetes_Cluster/" class="md-nav__link">
        Install Single Node Kubernetes Cluster
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../How_to_use_MKdocs/" class="md-nav__link">
        How To Use MKDocs with Docker?
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../Tips_And_Tricks/" class="md-nav__link">
        Tips And Tricks
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Old Blog Conetent
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Old Blog Conetent" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Old Blog Conetent
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Collect_Network_Statistic_With_Telegraf_Vnstat/" class="md-nav__link">
        Collect Network Statistic With Telegraf & VNSTAT
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Iptables_Examples/" class="md-nav__link">
        Iptables Examples
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Nokia_6120c_%28bb5%29_Forgotten_Security_Code/" class="md-nav__link">
        Nokia 6120c (BB5) Forgotten Security Code
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../Sonoff_Relays_With_Openhab_And_Tasmota_Firmware/" class="md-nav__link">
        Sonoff Relays With OpenHab And Tasmota Firmware
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_5" type="checkbox" id="__nav_6_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6_5">
          Raspberry & Orange PI
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Raspberry & Orange PI" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_5">
          <span class="md-nav__icon md-icon"></span>
          Raspberry & Orange PI
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Move_Root_File_System_To_Usb_Storage_%28rpi2_%26_Rpi3%29/" class="md-nav__link">
        Move root file system to USB storage (RPI2 & RPI3)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Raspberry_Pi_3_As_Wifi_Range_Extender/" class="md-nav__link">
        Raspberry PI 3 As Wifi Range Extender
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../How_To_Install_Nodered_On_Raspberry_Pi/" class="md-nav__link">
        How To Install NodeRED on Raspberry PI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Compile_Go_Language_On_Raspberry_Pi/" class="md-nav__link">
        Compile GO language on Raspberry PI
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Raspberry_Pi_2_As_Print_Server_Airprint/" class="md-nav__link">
        Raspberry PI 2 as print server + AirPrint
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Google Cloud Print With Orange PI (or RPI)
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Google Cloud Print With Orange PI (or RPI)
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#-1-update-your-system-install-requirements" class="md-nav__link">
    -1. Update your system &amp; Install Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0-install-go-language" class="md-nav__link">
    0. Install Go Language
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-clone-go" class="md-nav__link">
    1. Clone Go
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-checkout-go" class="md-nav__link">
    2. Checkout Go
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-compile-go-143" class="md-nav__link">
    3. Compile GO 1.4.3
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-set-system-environments" class="md-nav__link">
    4. Set System environments
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-some-performance-tuning" class="md-nav__link">
    5. Some Performance tuning
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-compile-go-163" class="md-nav__link">
    6. Compile GO 1.6.3
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-set-system-environments-to-use-go163" class="md-nav__link">
    7. Set System Environments to use go1.6.3.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-google-cloud-print-connector" class="md-nav__link">
    Install Google Cloud Print connector
  </a>
  
    <nav class="md-nav" aria-label="Install Google Cloud Print connector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-google-cloud-print-connector" class="md-nav__link">
    Configure Google Cloud Print connector
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-automatically-on-boot" class="md-nav__link">
    Run Automatically On boot
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Install_Debian_Jessie_To_Orange_Pi_Plus_2/" class="md-nav__link">
        Install Debian Jessie to Orange PI Plus 2
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Mount_Sd_Card_Image_partitioned_Image_Wo_Kpartx/" class="md-nav__link">
        Mount SD card image (partitioned image) w/o kpartx
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nodemcu/Install_Openalpr_On_Raspberry_Pi_3/" class="md-nav__link">
        Install OpenALPR on Raspberry PI 3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../Install_Openalpr_On_Raspberry_Pi_3_part_2/" class="md-nav__link">
        Install OpenALPR on Raspberry PI 3 (Part 2)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_6" type="checkbox" id="__nav_6_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_6">
          NodeMCU - LUA / ESP8266
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="NodeMCU - LUA / ESP8266" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_6">
          <span class="md-nav__icon md-icon"></span>
          NodeMCU - LUA / ESP8266
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nodemcu/How_To_Unbrick_Esp8266_blinking_Blue_Led/" class="md-nav__link">
        How To Unbrick ESP8266 (Blinking Blue Led)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nodemcu/Very_Simple_Way_To_Send_Email_Using_Nodemcu_Firmware/" class="md-nav__link">
        Very Simple Way to Send Email Using NodeMCU firmware
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nodemcu/Reliable_MQTT_conenction_with_NodeMCU/" class="md-nav__link">
        Reliable MQTT conenction with NodeMCU
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nodemcu/Reliable_Mqtt_Connection_With_Nodemcu_%28part_2%29/" class="md-nav__link">
        Reliable MQTT connection with NodeMCU (part 2)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nodemcu/How_To_Compile_Nodemcu_Firmware/" class="md-nav__link">
        How to compile NodeMCU firmware
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../nodemcu/Logging_Mqtt_Data_%28subscription%29_To_Mysql_With_Shell_Script/" class="md-nav__link">
        Logging MQTT data (subscription) to MySQL with Shell Script
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6_7" type="checkbox" id="__nav_6_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6_7">
          Linux Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Linux Tutorials" data-md-level="2">
        <label class="md-nav__title" for="__nav_6_7">
          <span class="md-nav__icon md-icon"></span>
          Linux Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/Install_%28compile%29_%26_Configure_Motion_Av_Tools/" class="md-nav__link">
        Install (compile) & Configure motion + AV tools
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/Create_Self_Signed_Certificate_For_Apache_Webserver/" class="md-nav__link">
        Create Self Signed Certificate for Apache WebServer
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/Compile_Apache_Httpd_2.4.x_Php/" class="md-nav__link">
        Compile Apache HTTPD 2.4.X & PHP
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/Install_Mps-youtube_Console_Based_Youtube_Player/" class="md-nav__link">
        Install mps-youtube console based youtube player
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../linux/create_Your_Own_Dyndns_Service_With_Bind_named/" class="md-nav__link">
        Create Your Own DynDns Service with Bind (Named)
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#-1-update-your-system-install-requirements" class="md-nav__link">
    -1. Update your system &amp; Install Requirements
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#0-install-go-language" class="md-nav__link">
    0. Install Go Language
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#1-clone-go" class="md-nav__link">
    1. Clone Go
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#2-checkout-go" class="md-nav__link">
    2. Checkout Go
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#3-compile-go-143" class="md-nav__link">
    3. Compile GO 1.4.3
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#4-set-system-environments" class="md-nav__link">
    4. Set System environments
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#5-some-performance-tuning" class="md-nav__link">
    5. Some Performance tuning
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#6-compile-go-163" class="md-nav__link">
    6. Compile GO 1.6.3
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#7-set-system-environments-to-use-go163" class="md-nav__link">
    7. Set System Environments to use go1.6.3.
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#install-google-cloud-print-connector" class="md-nav__link">
    Install Google Cloud Print connector
  </a>
  
    <nav class="md-nav" aria-label="Install Google Cloud Print connector">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#configure-google-cloud-print-connector" class="md-nav__link">
    Configure Google Cloud Print connector
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#run-automatically-on-boot" class="md-nav__link">
    Run Automatically On boot
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/jvincze84/jvincze84.github.io/edit/master/docs/old/raspberry/Google_Cloud_Print_With_Orange_Pi_or_Rpi.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <div class="admonition caution">
<p class="admonition-title">Caution</p>
<p><strong>This page has been updated a long time ago.</strong>  Information found here could be outdated and may lead to missconfiguration.<br />
Some of the links and references may be broken or lead to non existing pages.<br />
Please use this docs carefully. Most of the information here now is only for reference or example!</p>
</div>
<h1 id="google-cloud-print-with-orange-pi-or-rpi">Google Cloud Print With Orange PI (or RPI)<a class="headerlink" href="#google-cloud-print-with-orange-pi-or-rpi" title="Permanent link">&para;</a></h1>
<h2 id="-1-update-your-system-install-requirements">-1. Update your system &amp; Install Requirements<a class="headerlink" href="#-1-update-your-system-install-requirements" title="Permanent link">&para;</a></h2>
<pre><code class="language-bash">apt-get update
apt-ge upgrade
apt-get install gcc make # If they aren't installed (for golang)
apt-get install build-essential libcups2-dev libavahi-client-dev git bzr # for cloud connector
</code></pre>
<h2 id="0-install-go-language">0. Install Go Language<a class="headerlink" href="#0-install-go-language" title="Permanent link">&para;</a></h2>
<p>Install go lang. You can follow "Compile GO language on Raspberry PI" to complete this step. 
I don't want to write detailed install steps here, instead of I paste only the commands to this chapter without any / detailed comments. (Maybe it will helpful for someone).</p>
<h2 id="1-clone-go">1. Clone Go<a class="headerlink" href="#1-clone-go" title="Permanent link">&para;</a></h2>
<pre><code class="language-bash">mkdir /opt/go/
cd /opt/go/
git clone https://github.com/golang/go`
</code></pre>
<h2 id="2-checkout-go">2. Checkout Go<a class="headerlink" href="#2-checkout-go" title="Permanent link">&para;</a></h2>
<pre><code class="language-bash">cd /opt/go/go
git tag -l
cd ..
mv go go1.4.3
cp -r go1.4.3 go1.6.3
cd go1.4.3/
git checkout go1.4.3 
cd /opt/go/go1.6.3
git checkout go1.6.3 
</code></pre>
<h2 id="3-compile-go-143">3. Compile GO 1.4.3<a class="headerlink" href="#3-compile-go-143" title="Permanent link">&para;</a></h2>
<pre><code>export GOARCH=&quot;arm&quot;
export GOOS=&quot;linux&quot;
export GOARM=&quot;7&quot;
cd /opt/go/go1.4.3/src
/opt/go/go1.4.3/src
./all.bash | tee -a output.log
</code></pre>
<p>Sample Output: <a href="https://drive.google.com/file/d/0B4xTxuaiVCZyUnNVTF9ncFo1VnM/view?usp=sharing">Link</a></p>
<h2 id="4-set-system-environments">4. Set System environments<a class="headerlink" href="#4-set-system-environments" title="Permanent link">&para;</a></h2>
<pre><code class="language-bash">export GOROOT_BOOTSTRAP=&quot;/opt/go/go1.4.3&quot;  
export GOROOT=&quot;/opt/go/go1.4.3&quot;  
export GOROOT_BOOTSTRAP=&quot;$GOROOT&quot;  
export GOPATH=&quot;$GOROOT/src&quot;  
export PATH=&quot;$PATH:$GOROOT/bin&quot; 
export GOARCH=&quot;arm&quot;
export GOOS=&quot;linux&quot;
export GOARM=&quot;7&quot;
</code></pre>
<h2 id="5-some-performance-tuning">5. Some Performance tuning<a class="headerlink" href="#5-some-performance-tuning" title="Permanent link">&para;</a></h2>
<pre><code class="language-bash">fallocate --length 2GiB /root/2G.swap  
chmod 0600 /root/2G.swap  
mkswap /root/2G.swap  
swapon /root/2G.swap 

ulimit -s 65536
</code></pre>
<h2 id="6-compile-go-163">6. Compile GO 1.6.3<a class="headerlink" href="#6-compile-go-163" title="Permanent link">&para;</a></h2>
<pre><code class="language-bash">cd /opt/go/go1.6.3/src
./all.bash | tee -a output.log
</code></pre>
<p>Sample output: <a href="https://drive.google.com/file/d/0B4xTxuaiVCZyVnJzdXVHS1FzVFE/view?usp=sharing">Link</a></p>
<h2 id="7-set-system-environments-to-use-go163">7. Set System Environments to use go1.6.3.<a class="headerlink" href="#7-set-system-environments-to-use-go163" title="Permanent link">&para;</a></h2>
<p>You should unset all GO related ENV, or logout from current shell and create new shell.</p>
<pre><code class="language-bash">export GOROOT_BOOTSTRAP=&quot;/opt/go/go1.4.3&quot;  
export GOROOT=&quot;/opt/go/go1.6.3&quot;  
export GOROOT_BOOTSTRAP=&quot;$GOROOT&quot;  
export GOPATH=&quot;$GOROOT/src&quot;  
export PATH=&quot;$PATH:$GOROOT/bin&quot;  
export GOARCH=&quot;arm&quot;
export GOOS=&quot;linux&quot;
export GOARM=&quot;7&quot;
</code></pre>
<p><strong>Check:</strong></p>
<pre><code>go version
go version go1.6.3 linux/arm
</code></pre>
<p>Your GO is ready to use. :)</p>
<h2 id="install-google-cloud-print-connector">Install Google Cloud Print connector<a class="headerlink" href="#install-google-cloud-print-connector" title="Permanent link">&para;</a></h2>
<p>Simply run the following command:
<code>go get github.com/google/cloud-print-connector/...</code><br />
Go will download and install packages and dependencies.</p>
<p>Q: What means <code>...</code>?
A: if you want all packages in that repository, use <code>...</code></p>
<p><mark><strong>Reference:</strong></mark><br />
https://github.com/google/cloud-print-connector/wiki/Build-from-source
Run automatically on system boot (systemd):
https://github.com/google/cloud-print-connector/wiki/Run-Connector-Automatically-on-Boot</p>
<p>This will create two new files to <code>/opt/go/go1.6.3/src/bin</code> directory:</p>
<pre><code class="language-bash">root@OrangePI:/opt/go/go1.6.3/src/bin# ls -al
total 17504
drwxr-xr-x  2 root root    4096 Sep  6 13:11 .
drwxr-xr-x 47 root root    4096 Sep  6 13:11 ..
-rwxr-xr-x  1 root root 8358992 Sep  6 13:11 gcp-connector-util
-rwxr-xr-x  1 root root 9554384 Sep  6 13:11 gcp-cups-connector
</code></pre>
<p>And the source is available int <code>/opt/go/go1.6.3/src/src/github.com/google/cloud-print-connector</code></p>
<h3 id="configure-google-cloud-print-connector">Configure Google Cloud Print connector<a class="headerlink" href="#configure-google-cloud-print-connector" title="Permanent link">&para;</a></h3>
<p>To configure Google Cloud Print (GCP) you simply run <code>gcp-connector-util</code> from <code>/opt/go/go1.6.3/src/bin</code> directory, answer some question.</p>
<pre><code class="language-bash">root@OrangePI:/opt/go/go1.6.3/src/bin# ./gcp-connector-util init
&quot;Local printing&quot; means that clients print directly to the connector via
local subnet, and that an Internet connection is neither necessary nor used.

Enable local printing?
yes

&quot;Cloud printing&quot; means that clients can print from anywhere on the Internet,
and that printers must be explicitly shared with users.
Enable cloud printing?
yes

Retain the user OAuth token to enable automatic sharing?
no

Proxy name for this connector:
opi_sam_ml1510

Visit https://www.google.com/device, and enter this code. I'll wait for you.
GGVY-****
</code></pre>
<p>At this point you have to login to your google account, visit https://www.google.com/device and give your code. 
After you enter your code you will get the following message on linux box:</p>
<pre><code>The config file /opt/go/go1.6.3/src/bin/gcp-cups-connector.config.json is ready to rock.
Keep it somewhere safe, as it contains an OAuth refresh token.
</code></pre>
<p>The next step is checking the configuration:  </p>
<ul>
<li>Start GCP connector:<br />
<code>./gcp-cups-connector --config-filename gcp-cups-connector.config.json --log-to-console</code></li>
<li>Check your printer by visiting https://www.google.com/cloudprint/#printers website.If everything went fine you should see your printer. </li>
</ul>
<p>The last step is change log file location by editing <code>gcp-cups-connector.config.json</code>, and modify <code>log_file_name</code> entry according to where you want to save logs.</p>
<p>Run in the background:
<code>nohup ./gcp-cups-connector --config-filename gcp-cups-connector.config.json &amp;</code></p>
<h3 id="run-automatically-on-boot">Run Automatically On boot<a class="headerlink" href="#run-automatically-on-boot" title="Permanent link">&para;</a></h3>
<p>If you want to start GCP at system boot follow these steps.
<strong><mark>Reference:</mark></strong><br />
https://github.com/google/cloud-print-connector/wiki/Run-Connector-Automatically-on-Boot</p>
<ul>
<li>You can find a sample config file in <code>/opt/go/go1.6.3/src/src/github.com/google/cloud-print-connector/systemd</code> directory.</li>
<li>Make a backup:<br />
<code>cp cloud-print-connector.service cloud-print-connector.service-orig</code></li>
<li>Edit this file. Modify <code>ExecStart</code> and <code>User</code> property to this:<br />
<code>ExecStart=/opt/go/go1.6.3/src/bin/gcp-cups-connector -config-filename /opt/go/go1.6.3/src/bin/gcp-cups-connector.config.json</code><br />
<code>User=root</code></li>
<li>Install systemd service:<br />
<code>install -o root -m 0660 cloud-print-connector.service /etc/systemd/system</code></li>
<li>Enable the service:<br />
<code>systemctl enable cloud-print-connector.service</code></li>
<li>Start service:<br />
<code>systemctl start cloud-print-connector.service</code></li>
<li>Check status:<br />
<code>systemctl status cloud-print-connector.service</code></li>
</ul>
<p>Done. :)
Now everytime you restart your OPI GCP will start automatically.</p>
<p><strong><mark>Update</mark></strong>  </p>
<p>Unfortunately GCP can't start at boot time because of the following error:</p>
<pre><code>systemctl status  cloud-print-connector.service
â— cloud-print-connector.service - Google Cloud Print Connector
   Loaded: loaded (/etc/systemd/system/cloud-print-connector.service; enabled)
   Active: failed (Result: start-limit) since Thu 1970-01-01 00:24:04 UTC; 46 years 8 months ago
     Docs: https://github.com/google/cloud-print-connector
  Process: 867 ExecStart=/opt/go/go1.6.3/src/bin/gcp-cups-connector --config-filename /opt/go/go1.6.3/src/bin/gcp-cups-connector.config.json (code=exited, status=1/FAILURE)
 Main PID: 867 (code=exited, status=1/FAILURE)

Jan 01 00:24:03 OrangePI systemd[1]: Unit cloud-print-connector.service entered failed state.
Jan 01 00:24:04 OrangePI systemd[1]: cloud-print-connector.service holdoff time over, scheduling restart.
Jan 01 00:24:04 OrangePI systemd[1]: Stopping Google Cloud Print Connector...
Jan 01 00:24:04 OrangePI systemd[1]: Starting Google Cloud Print Connector...
Jan 01 00:24:04 OrangePI systemd[1]: cloud-print-connector.service start request repeated too quickly, refusing to start.
Jan 01 00:24:04 OrangePI systemd[1]: Failed to start Google Cloud Print Connector.
Jan 01 00:24:04 OrangePI systemd[1]: Unit cloud-print-connector.service entered failed state.
</code></pre>
<p>I've checked the log files and I saw that after boot the log file was accessed in 1970, and the log entries was also from 1970:</p>
<pre><code>I [01/Jan/1970:00:24:03 +0000] Using config file /opt/go/go1.6.3/src/bin/gcp-cups-connector.config.json
I [01/Jan/1970:00:24:03 +0000] Cloud Print Connector for CUPS version DEV-linux
X [01/Jan/1970:00:24:03 +0000] While starting XMPP, failed to get access token (password): Post https://accounts.google.com/o/oauth2/token: x509: certificate has expired or is not yet valid
</code></pre>
<p>Based on these errors I tried to modify "After" in cloud print service file to start service after ntp.service and some other services:
<code>After=cups.service avahi-daemon.service network-online.target ntp.service networking.service exim4.service ssh.service NetworkManager.service wpa_supplicant.service</code><br />
But It did not help. After some tries I gave up and wrote a shell script to start this service:</p>
<pre><code class="language-bash">#!/bin/bash
IFS='
'

ps aux| grep -v grep  | grep -q gcp-cups-connector
if [ $? -eq 0 ]
then
echo &quot;Already running&quot;
exit 0
fi

OK=0
while [ $OK -eq 0 ]
do
  YEAR=$( date +%Y )
  if [ $YEAR -gt 2015 ]
  then 
    echo ok
    OK=1
    /opt/go/go1.6.3/src/bin/gcp-cups-connector --config-filename /opt/go/go1.6.3/src/bin/gcp-cups-connector.config.json
  else
    echo &quot;Sleep for 1 secs&quot;
    sleep 1
  fi

done
</code></pre>
<p>This little script check the year in every sec and if it is grater then 2015 the GCP will be started. </p>
<p>The problem was:</p>
<ul>
<li>OrangePI has no built in (hw) clock, thus before the ntp service start it doesn't know the current time.</li>
<li>GCP was started before the network service came up that's why it could not connect to google service (this happened despite my modification on service file (after property)).</li>
</ul>
                
                  
                    

<hr>
<div class="md-source-date">
  <small>
    
      Last update: <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">October 2, 2021</span>
      
    
  </small>
</div>
                  
                
              
              
                


  <h2 id="__comments">Comments</h2>
  <div id="disqus_thread"></div>
  <script>var script,disqus_config=function(){this.page.url="https://readthedocs.vinczejanos.info/old/raspberry/Google_Cloud_Print_With_Orange_Pi_or_Rpi/",this.page.identifier="old/raspberry/Google_Cloud_Print_With_Orange_Pi_or_Rpi/"};"undefined"==typeof DISQUS?((script=document.createElement("script")).async=!0,script.src="https://shortname-jvincze-test.disqus.com/embed.js",script.setAttribute("data-timestamp",Date.now()),document.body.appendChild(script)):DISQUS.reset({reload:!0,config:disqus_config})</script>

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <!-- Cookie Consent by https://www.CookieConsent.com -->
<script type="text/javascript" src="//www.cookieconsent.com/releases/4.0.0/cookie-consent.js" charset="UTF-8"></script>
<script type="text/javascript" charset="UTF-8">
document.addEventListener('DOMContentLoaded', function () {
cookieconsent.run({"notice_banner_type":"headline","consent_type":"express","palette":"light","language":"en","page_load_consent_levels":["strictly-necessary"],"notice_banner_reject_button_hide":false,"preferences_center_close_button_hide":false,"website_name":"Blog"});
});
</script>

<noscript>ePrivacy and GPDR Cookie Consent by <a href="https://www.CookieConsent.com/" rel="nofollow noopener">Cookie Consent</a></noscript>
<!-- End Cookie Consent by https://www.CookieConsent.com -->


      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tracking", "navigation.top", "search.suggest", "search.highlight", "search.highlight", "header.autohide"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../assets/javascripts/workers/search.8397ff9e.min.js", "version": null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.1e84347e.min.js"></script>
      
        <script src="../../../js/prism.js"></script>
      
    
  </body>
</html>